
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jasper Evangelista | Creative Marketing Studio</title>
    <script type="module" crossorigin src="/assets/index-ti55cYL2.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-CEaPZ8q8.css">
    
    <!-- Final corrections CSS -->
    <style>
      body {
        font-family: 'Poppins', sans-serif; /* A good default font */
      }

      /* Logo and Text corrections */
      .loading-screen-logo {
        background-image: url('jaslogowebsite.png') !important;
        background-size: contain !important;
        background-position: center !important;
        background-repeat: no-repeat !important;
        background-color: transparent !important;
        width: 300px !important;
        height: 300px !important;
      }
      
      .header-logo-container {
        display: none !important;
      }
      
      .jasper-text-added {
        display: inline-block !important;
        font-size: 24px !important;
        vertical-align: middle !important;
        padding-left: 1rem;
      }
      
      .jasper-text-added .jasper-part {
        font-weight: normal !important;
        color: #777777 !important;
      }
      
      .jasper-text-added .evangelista-part {
        font-weight: bold !important;
        color: #000000 !important;
      }

      /* Headline Font Size Overrides */
      h1, .text-5xl, .text-6xl, .text-7xl, 
      [class*="text-5xl"], [class*="text-6xl"], [class*="text-7xl"] {
        font-size: 200% !important;
        line-height: 1.2 !important;
      }
      
      p, .text-base, .text-lg, .text-xl, .text-2xl,
      [class*="text-base"], [class*="text-lg"], [class*="text-xl"], [class*="text-2xl"] {
        font-size: 100% !important;
        line-height: 1.5 !important;
      }

      /* Audio Menu Styles */
      .listen-dropdown {
        position: relative;
        display: inline-block;
      }

      .listen-dropdown-content {
        display: none;
        position: absolute;
        right: 0;
        top: 100%;
        background-color: white;
        min-width: 250px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 50;
        border-radius: 8px;
        padding: 8px 0;
        margin-top: 12px;
      }
      
      .listen-dropdown-content.show {
        display: block;
      }

      .listen-dropdown-content h3 {
        padding: 8px 16px;
        font-size: 12px;
        text-transform: uppercase;
        color: #9ca3af;
        font-weight: 600;
        margin-top: 8px;
      }

      .listen-dropdown-content h3:first-child {
        margin-top: 0;
      }
      
      .track-item {
        display: flex;
        align-items: center;
        padding: 10px 16px;
        font-size: 14px;
        color: #374151;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .track-item:hover {
        background-color: #f3f4f6;
      }
      
      .track-item .icon {
        width: 16px;
        height: 16px;
        margin-right: 12px;
        opacity: 0;
        transition: opacity 0.2s;
      }
      
      .track-item.playing .icon {
        opacity: 1;
        color: #10b981; /* emerald-500 */
      }

      .audio-controls {
        border-top: 1px solid #e5e7eb;
        padding: 8px 16px;
        margin-top: 8px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      
      .audio-controls button {
        background-color: #10b981;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.2s;
      }
      
      .audio-controls button:hover {
        background-color: #059669;
      }
      
      .audio-controls .status {
        font-size: 12px;
        color: #6b7280;
      }

    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.1.0",
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
    "react/": "https://esm.sh/react@^19.1.0/"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    
    <!-- Final corrections JavaScript -->
    <script>
      (function() {
        // --- STATE MANAGEMENT ---
        const siteState = {
          customizationsApplied: false,
          audioPlayer: new Audio(),
          currentTrackIndex: null,
          isPlaying: false,
          playlist: [
            { type: 'music', title: 'Lofi Chill', url: 'https://cdn.pixabay.com/audio/2022/08/04/audio_2d79a2963d.mp3' },
            { type: 'music', title: 'Ambient Dreams', url: 'https://cdn.pixabay.com/audio/2024/02/09/audio_d9233c6292.mp3' },
            { type: 'podcast', title: 'Brand Storytelling 101', url: 'https://cdn.pixabay.com/audio/2023/09/14/audio_9c34a29339.mp3' },
            { type: 'podcast', title: 'The Marketing Mindset', url: 'https://cdn.pixabay.com/audio/2023/10/08/audio_248da7a29c.mp3' },
          ]
        };

        // --- AUDIO PLAYER LOGIC ---
        function playTrack(index) {
          if (index === siteState.currentTrackIndex && siteState.isPlaying) {
            siteState.audioPlayer.pause();
            siteState.isPlaying = false;
          } else {
            siteState.currentTrackIndex = index;
            siteState.audioPlayer.src = siteState.playlist[index].url;
            siteState.audioPlayer.play().catch(e => console.error("Audio play failed:", e));
            siteState.isPlaying = true;
          }
          updateAudioMenuUI();
        }

        function toggleMasterPlayPause() {
          if (siteState.isPlaying) {
            siteState.audioPlayer.pause();
            siteState.isPlaying = false;
          } else {
            if (siteState.currentTrackIndex !== null) {
              siteState.audioPlayer.play().catch(e => console.error("Audio play failed:", e));
              siteState.isPlaying = true;
            } else {
              // If nothing is selected, play the first track
              playTrack(0);
            }
          }
          updateAudioMenuUI();
        }
        
        siteState.audioPlayer.onended = () => {
            siteState.isPlaying = false;
            updateAudioMenuUI();
        };

        function updateAudioMenuUI() {
          const tracks = document.querySelectorAll('.track-item');
          tracks.forEach((track, index) => {
            if (index === siteState.currentTrackIndex && siteState.isPlaying) {
              track.classList.add('playing');
            } else {
              track.classList.remove('playing');
            }
          });

          const playPauseButton = document.getElementById('master-play-pause');
          const statusText = document.querySelector('.audio-controls .status');
          if (playPauseButton) {
            playPauseButton.textContent = siteState.isPlaying ? 'Pause' : 'Play';
          }
          if (statusText) {
              const currentTrack = siteState.playlist[siteState.currentTrackIndex];
              statusText.textContent = currentTrack ? (siteState.isPlaying ? `Playing: ${currentTrack.title}`: 'Paused') : 'Select a track';
          }
        }

        // --- UI INJECTION AND MANIPULATION ---
        function injectAudioMenu() {
          const nav = document.querySelector('nav');
          if (!nav || document.getElementById('listen-menu')) return;

          const musicTracks = siteState.playlist
            .map((track, i) => ({...track, i}))
            .filter(t => t.type === 'music')
            .map(t => `<div class="track-item" data-track-index="${t.i}"><span class="icon">&#9658;</span>${t.title}</div>`).join('');
          
          const podcastTracks = siteState.playlist
            .map((track, i) => ({...track, i}))
            .filter(t => t.type === 'podcast')
            .map(t => `<div class="track-item" data-track-index="${t.i}"><span class="icon">&#9658;</span>${t.title}</div>`).join('');

          const dropdownHTML = `
            <div id="listen-menu" class="listen-dropdown">
              <button id="listen-btn" class="text-base font-medium text-gray-500 hover:text-gray-900 transition-colors">Listen</button>
              <div id="listen-dropdown-content" class="listen-dropdown-content">
                <h3>Music</h3>
                ${musicTracks}
                <h3>Podcasts</h3>
                ${podcastTracks}
                <div class="audio-controls">
                  <button id="master-play-pause">Play</button>
                  <span class="status">Select a track</span>
                </div>
              </div>
            </div>
          `;
          
          nav.insertAdjacentHTML('beforeend', dropdownHTML);

          // Add event listeners
          document.getElementById('listen-btn').addEventListener('click', (e) => {
            e.stopPropagation();
            document.getElementById('listen-dropdown-content').classList.toggle('show');
          });

          document.querySelectorAll('.track-item').forEach(item => {
            item.addEventListener('click', (e) => {
              const index = parseInt(e.currentTarget.getAttribute('data-track-index'));
              playTrack(index);
            });
          });

          document.getElementById('master-play-pause').addEventListener('click', toggleMasterPlayPause);
        }

        function applyWebsiteCustomizations() {
          if (siteState.customizationsApplied) return;

          // 1. Find and hide the header logo, but keep the text
          const header = document.querySelector('header');
          if (header) {
            const logoLink = header.querySelector('a[href="./index.html"]');
            if (logoLink) {
              const logoElement = logoLink.querySelector('img, svg');
              if (logoElement) {
                // Hide the logo itself
                logoElement.style.display = 'none';
                
                // Ensure the name is visible and styled correctly
                let nameSpan = logoLink.querySelector('.jasper-text-added');
                if (!nameSpan) {
                  const textHTML = `
                    <span class="jasper-text-added">
                      <span class="jasper-part">jasper</span><span class="evangelista-part">evangelista</span>
                    </span>`;
                  logoLink.insertAdjacentHTML('beforeend', textHTML);
                }
              }
            }
          }

          // 2. Fix loading screen logo - it's a div, not an img
          const loadingScreen = document.querySelector('.fixed.inset-0.z-50');
          if (loadingScreen) {
              const logoPlaceholder = loadingScreen.querySelector('.animate-pulse > div, .animate-pulse > img, .animate-pulse > svg');
              if(logoPlaceholder) {
                logoPlaceholder.classList.add('loading-screen-logo');
              }
          }

          // 3. Inject the full audio menu
          injectAudioMenu();
          
          // If all major elements were found, assume success.
          if (header && loadingScreen && document.getElementById('listen-menu')) {
             siteState.customizationsApplied = true;
             console.log('Jasper Evangelista site customizations applied successfully.');
          }
        }
        
        // --- EXECUTION LOGIC ---
        // Run multiple times to catch elements rendered by the framework
        let attempts = 0;
        function tryCustomizations() {
          if (siteState.customizationsApplied) return;
          attempts++;
          applyWebsiteCustomizations();
          if (attempts < 30) { // Increased attempts for reliability
            setTimeout(tryCustomizations, 300);
          }
        }
        
        // Start immediately and add listeners for robustness
        tryCustomizations();
        window.addEventListener('load', tryCustomizations);
        document.addEventListener('DOMContentLoaded', tryCustomizations);

        // Close dropdown when clicking outside
        window.addEventListener('click', (e) => {
          const dropdown = document.getElementById('listen-dropdown-content');
          if (dropdown && dropdown.classList.contains('show') && !e.target.closest('#listen-menu')) {
            dropdown.classList.remove('show');
          }
        });

      })();
    </script>
  </body>
</html>
